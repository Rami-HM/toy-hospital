
CREATE TABLE ADMIN
(
   ADMIN_ID             VARCHAR2(30) NOT NULL PRIMARY KEY,
   ADMIN_PW            VARCHAR2(30) NOT NULL
);

CREATE TABLE MENU
(
   MENU_ID              VARCHAR2(10) NOT NULL PRIMARY KEY,
   MENU_NAME           VARCHAR2(100) NOT NULL ,
   MENU_SEQ             NUMBER(5,0) NOT NULL 
);

CREATE TABLE SUBMENU
(
   SUB_ID               VARCHAR2(10) NOT NULL PRIMARY KEY,
   MENU_ID            VARCHAR2(10) NOT NULL ,
   SUB_NAME          VARCHAR2(100) NULL ,
   SUB_SEQ             NUMBER(5,0) NULL,
    
    CONSTRAINT SUBMENU_MENU_FK FOREIGN KEY (MENU_ID)REFERENCES MENU(MENU_ID)
);

CREATE TABLE DEPARTMENTS
(
   DEPT_NUM            NUMBER(5,0) NOT NULL PRIMARY KEY,
   DEPT_NAME           VARCHAR2(50) NOT NULL ,
   DEPT_DESC            VARCHAR2(2000) NOT NULL 
);


CREATE TABLE PATIENTS
(
   PAT_ID               VARCHAR2(30) NOT NULL PRIMARY KEY,
   PAT_NAME          VARCHAR2(30) NOT NULL ,
   PAT_SSN             VARCHAR2(30) NOT NULL ,
   PAT_TEL              VARCHAR2(30) NOT NULL ,
   PAT_ADDRESS      VARCHAR2(400) NOT NULL ,
   PAT_PW              VARCHAR2(30) NOT NULL ,
   PAT_EMAIL           VARCHAR2(100) NULL ,
   PAT_GENDER        VARCHAR2(5) NOT NULL 
);



CREATE TABLE BOARD
(
   BRD_IDX              NUMBER(5,0) NOT NULL PRIMARY KEY,
   BRD_TITLE            VARCHAR2(100) NOT NULL ,
   BRD_REGDATE          VARCHAR2(50) NOT NULL ,
   SUB_ID               VARCHAR2(10) NOT NULL ,
   BRD_CONTS            VARCHAR2(3000) NOT NULL ,
   BRD_STEP             NUMBER(5,0) NOT NULL ,
   BRD_LVL              NUMBER(5,0) NOT NULL ,
   BRD_NREF             NUMBER(5,0) NOT NULL ,
   BRD_DELNUM           NUMBER(5,0) NOT NULL ,
   BRD_BNUM             NUMBER(5,0) NOT NULL ,
   BRD_WRITER           VARCHAR2(30) NOT NULL, 
    
CONSTRAINT BOARD_SUB_FK FOREIGN KEY (SUB_ID) REFERENCES SUBMENU (SUB_ID)
);

CREATE TABLE EMP
(
   EMP_ID               VARCHAR2(30) NOT NULL PRIMARY KEY,
   EMP_NAME          VARCHAR2(30) NOT NULL ,
   DEPT_NUM          NUMBER(5,0) NOT NULL ,
   EMP_POSITION      VARCHAR2(30) NOT NULL ,
   EMP_IMG             VARCHAR2(200) NULL ,
   EMP_PW              VARCHAR2(30) NOT NULL, 

   CONSTRAINT EMP_DEPT_FK FOREIGN KEY (DEPT_NUM) REFERENCES DEPARTMENTS(DEPT_NUM)
);


CREATE TABLE FILES
(
   FILE_NUM          NUMBER(5,0) NOT NULL PRIMARY KEY,
   BRD_IDX            NUMBER(5,0) NOT NULL ,
   FILE_NAME         VARCHAR2(200) NOT NULL ,
   FILE_EXT            VARCHAR2(50) NOT NULL ,
   SFILE_NAME        VARCHAR2(200) NOT NULL ,
    
    CONSTRAINT FILES_BOARD_FK FOREIGN KEY (BRD_IDX) REFERENCES BOARD(BRD_IDX)
);


CREATE TABLE HISTORY
(
   EMP_ID               VARCHAR2(30) NOT NULL ,
   HST_NUM              NUMBER(5,0) NOT NULL PRIMARY KEY,
   HST_CAREER           VARCHAR2(200) NULL ,
   HST_DATE             VARCHAR2(50) NULL ,
    CONSTRAINT HISTORY_EMP_FK FOREIGN KEY (EMP_ID) REFERENCES EMP(EMP_ID)
);

CREATE TABLE RESERVATION
(
   RES_NUM              NUMBER(5,0) NOT NULL PRIMARY KEY,
   RES_DATE             VARCHAR2(50) NOT NULL ,
   RES_TIME             VARCHAR2(30) NOT NULL ,
   PAT_ID               VARCHAR2(30) NOT NULL ,
   EMP_ID               VARCHAR2(30) NOT NULL ,
   DIAGNOSE             VARCHAR2(3000) NOT NULL ,
    
    CONSTRAINT RESERVATION_PAT_FK FOREIGN KEY (PAT_ID) REFERENCES PATIENTS(PAT_ID),
    CONSTRAINT RESERVATION_EMP_FK FOREIGN KEY (EMP_ID) REFERENCES EMP(EMP_ID)
);

CREATE TABLE TREATMENT
(
   TRT_NUM              NUMBER(5,0) NOT NULL PRIMARY KEY,
   TRT_DATE             VARCHAR2(50) NOT NULL ,
   PAT_ID               VARCHAR2(30) NOT NULL ,
   EMP_ID               VARCHAR2(30) NOT NULL ,
   EMP_CONTS            VARCHAR2(3000) NOT NULL ,
   RES_NUM              NUMBER(5,0) NOT NULL ,
    
    CONSTRAINT TRT_PAT_FK FOREIGN KEY (PAT_ID) REFERENCES PATIENTS(PAT_ID),
    CONSTRAINT TRT_EMP_FK FOREIGN KEY (EMP_ID) REFERENCES EMP(EMP_ID)
);

CREATE TABLE POSITION(
    
    EMP_POSITION VARCHAR2(30) NOT NULL PRIMARY KEY, 
    EMP_POSI_SEQ NUMBER(5,0) NOT NULL 
);




CREATE SEQUENCE RESNUMSEQ;